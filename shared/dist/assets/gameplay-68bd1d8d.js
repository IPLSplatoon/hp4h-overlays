import{D,a as B,i as k}from"./installCommonHelpers-6574289e.js";import{h as T,i as V,d as g,j as y,_ as w,v as u,o as l,e as S,m as n,c as p,b as i,l as r,t as v,q as h,x as q,T as R,r as F,F as N,z as O,g as z,s as G}from"./storeHelper-4fec82dd.js";import{O as H,F as x,g as s}from"./FittedContent-d9f9a985.js";import{u as j,i as I}from"./activeRoundStore-09c7395a.js";import{d as M}from"./index-d100c31e.js";import{S as P}from"./ScoreDisplay-889b5862.js";import{D as U,_ as W}from"./iconic-mark-1d1b5404.js";import{B as J}from"./Badge-59b52fe0.js";import{u as K,i as Q}from"./casterStore-e2757834.js";import{i as X}from"./donationDataStore-552da11c.js";const Y=nodecg.Replicant("scoreboardData",D),L=T("scoreboard",{state:()=>({scoreboardData:null})}),Z=V([Y],L),ee=g({name:"Scoreboard",components:{DonationTotal:U,ScoreDisplay:P,OpacitySwapTransition:H,FittedContent:x},setup(){const e=j(),c=y(()=>e.activeRound.teamA),o=y(()=>e.activeRound.teamB),d=L();return{teamA:c,teamB:o,teamAName:y(()=>B(c.value.name)),teamBName:y(()=>B(o.value.name)),scoreboardStore:d,activeRoundStore:e,scoreboardEnter:(t,_)=>{const a=s.timeline({onComplete:_});a.to(t.querySelectorAll(".scoreboard-teams"),{y:0,duration:.5,rotate:0,ease:"power3.out"}),a.to(t.querySelectorAll(".scoreboard-extra, .scoreboard-donation-total"),{opacity:1,duration:.35,stagger:.1})},beforeScoreboardEnter:t=>{s.set(t.querySelectorAll(".scoreboard-teams"),{y:-180,x:0,rotate:s.utils.random(-5,5)}),s.set(t.querySelectorAll(".scoreboard-extra, .scoreboard-donation-total"),{opacity:0})},scoreboardLeave:(t,_)=>{const a=s.timeline({onComplete:_});a.to(t.querySelectorAll(".scoreboard-extra, .scoreboard-donation-total"),{opacity:0,duration:.35,stagger:-.1}),a.to(t.querySelectorAll(".scoreboard-teams"),{x:-400,duration:.5,rotate:s.utils.random(-5,5),ease:"power3.in"})},getContrastingTextColor:M.getContrastingTextColor}}});const te={key:0,class:"scoreboard-wrapper"},oe={class:"scoreboard-teams"},ae={class:"scoreboard-team-layout"},re={class:"team-display team-alpha"},se={class:"team-display team-bravo"},ne={class:"scoreboard-extra"},ce=i("img",{class:"tournament-logo",src:W},null,-1),ie={class:"flavor-text-wrapper"};function le(e,c,o,d,t,_){const a=u("opacity-swap-transition"),m=u("fitted-content"),f=u("score-display"),b=u("donation-total");return l(),S(R,{onEnter:e.scoreboardEnter,onLeave:e.scoreboardLeave,onBeforeEnter:e.beforeScoreboardEnter},{default:n(()=>{var C,$,E,A;return[e.scoreboardStore.scoreboardData.isVisible?(l(),p("div",te,[i("div",oe,[i("div",ae,[i("div",re,[r(m,{"max-width":300,class:"team-name",align:"right"},{default:n(()=>[r(a,null,{default:n(()=>[(l(),p("div",{key:e.teamAName,class:"team-name-text"},v(e.teamAName),1))]),_:1})]),_:1}),r(f,{color:(C=e.teamA)==null?void 0:C.color,value:($=e.teamA)==null?void 0:$.score},null,8,["color","value"])]),i("div",se,[r(m,{"max-width":300,class:"team-name",align:"right"},{default:n(()=>[r(a,null,{default:n(()=>[(l(),p("div",{key:e.teamBName,class:"team-name-text"},v(e.teamBName),1))]),_:1})]),_:1}),r(f,{color:(E=e.teamB)==null?void 0:E.color,value:(A=e.teamB)==null?void 0:A.score},null,8,["color","value"])])])]),i("div",ne,[ce,i("div",ie,[r(a,null,{default:n(()=>[(l(),S(m,{key:e.activeRoundStore.activeRound.match.name,"max-width":285,class:"flavor-text",align:"center"},{default:n(()=>[h(v(e.activeRoundStore.activeRound.match.name),1)]),_:1}))]),_:1}),r(b,{"max-width":290,direction:"down"})])])])):q("",!0)]}),_:1},8,["onEnter","onLeave","onBeforeEnter"])}const de=w(ee,[["render",le]]),me=g({name:"Casters",components:{FittedContent:x,Badge:J},setup(){const e=K(),c=F(!1);return nodecg.listenFor("mainShowCasters",D,()=>{c.value||(c.value=!0,setTimeout(()=>{c.value=!1},15*1e3))}),{casterStore:e,castersVisible:c,castersEnter:(o,d)=>{const t=s.timeline({onComplete:d});t.to(o.querySelector(".casters-content"),{y:"0%",rotate:0,ease:"power3.out",duration:.5}),t.to(o.querySelector(".casters-header"),{opacity:1,duration:.35},"-=0.2")},beforeCastersEnter:o=>{s.set(o.querySelector(".casters-content"),{y:"133%",x:"0%",rotate:s.utils.random(-5,5)}),s.set(o.querySelector(".casters-header"),{opacity:0})},castersLeave:(o,d)=>{const t=s.timeline({onComplete:d});t.to(o.querySelector(".casters-content"),{rotate:s.utils.random(-5,5),x:"125%",ease:"power3.in",duration:.5}),t.to(o.querySelector(".casters-header"),{opacity:0,duration:.35})}}}});const ue={key:0,class:"casters-wrapper"},pe=i("div",{class:"casters-header"}," Commentators ",-1),_e={class:"casters-content"},fe={class:"caster-name"};function ve(e,c,o,d,t,_){const a=u("badge"),m=u("fitted-content");return l(),S(R,{onEnter:e.castersEnter,onLeave:e.castersLeave,onBeforeEnter:e.beforeCastersEnter},{default:n(()=>[e.castersVisible?(l(),p("div",ue,[pe,i("div",_e,[(l(!0),p(N,null,O(e.casterStore.casters,(f,b)=>(l(),p("div",{key:b,class:"caster-item"},[r(m,{"max-width":300},{default:n(()=>[i("span",fe,v(f.name),1),r(a,{class:"caster-pronouns",color:e.$helpers.colors.accentRed},{default:n(()=>[h(v(f.pronouns),1)]),_:2},1032,["color"])]),_:2},1024),r(m,{"max-width":300,class:"caster-twitter"},{default:n(()=>[h(v(f.twitter),1)]),_:2},1024)]))),128))])])):q("",!0)]),_:1},8,["onEnter","onLeave","onBeforeEnter"])}const ye=w(me,[["render",ve]]),be=g({name:"Gameplay",components:{Casters:ye,Scoreboard:de}});function Se(e,c,o,d,t,_){const a=u("scoreboard"),m=u("casters");return l(),p(N,null,[r(a),r(m)],64)}const he=w(be,[["render",Se]]);(async()=>{const e=z(he);k(e),e.use(G()),await Q(),await I(),await Z(),await X(),e.mount("#app")})();
